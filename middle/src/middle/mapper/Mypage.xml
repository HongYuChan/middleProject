<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTD Mapper 3.0//EN" 
"http://mybatis.org/dtd/mybatis-3-mapper.dtd">



<mapper namespace="middle.mapper.Mypagemapper">
	<cache />
	
 	<select id="myprofile" parameterType="int" resultType="Member">
 		<!-- select * from member m inner join product p on m.user_id = p.user_id
 		where m.user_id = #{user_id} -->
 		select * from member where user_id = #{user_id}
 	</select>
 	
 	<select id="myproduct" parameterType="int" resultType="Product">
 		select * from product where user_id = #{user_id}
 	</select>
 	
 	<update id="modifypassword" parameterType="int">
 		update member set password=#{password} where user_id = #{user_id}
 	</update>
 	
 	<update id="modifynickname" parameterType="int">
 		update member set nickname=#{nickname} where user_id = #{user_id}
 	</update>
 	
 	<update id="modifyemail" parameterType="int">
 		update member set email=#{email} where user_id = #{user_id}
 	</update>
 	
 	<delete id="deletemember" parameterType="int">
 		delete from member where user_id = #{user_id}
 	</delete>
	
	<select id="sellList" parameterType="int" resultType="Product">
		select * from product where user_id = #{user_id}
	</select>
	
	<select id="buyList" parameterType="int" resultType="Product">
		select * from product where buyer_id = #{user_id}
	</select>
	
	<select id="memberImg" parameterType="int" resultType="Member_img">
		select i.image_id, i.user_id, i.url from member m inner join member_img i on m.user_id = i.user_id
		where m.user_id = #{user_id}
	</select>
</mapper>















